{"uidcounter":["oB8ej","tex3x","Jmo7p"],"game":{"notes":[{"uid":"oB8ej","text":"tex3x","ex":0,"ey":0,"title":"Jmo7p","connections":[]}],"startNote":null,"mediamanager":{"defaultLanguage":"en","currentLanguage":"en","languages":["en"],"mediaLanguages":[{"language":"en","medias":[{"key":"tex3x","value":"UHJvZHVjZXI6QW5kcmV3IEdyZWVuYmVyZyAmIFJvYmVydCBXb29kaGVhZCAKSW5jLlB1Ymxpc2hlcjpTaXItdGVjaCBTb2Z0d2FyZSwgSW5jLlllYXI6MTk4NAoKaHR0cDovL3d3dy5hYmFuZG9uaWEuY29tL2VuL2dhbWVzLzI4NzkwL1dpemFyZHJ5K0krLStQcm92aW5nK0dyb3VuZHMrb2YrdGhlK01hZCtPdmVybG9yZC5odG1sCgpCYWNrZ3JvdW5kCgpXaXphcmRyeSAxIGlzIGEgZ2FtZSB0aGF0IHdhcyB3cml0dGVuIGJ5IEFuZHJldyBHcmVlbmJlcmcgYW5kIFJvYmVydCBXb29kaGVhZCBpbiAxOTgxLiBJdCB3YXMgdGhlIHBpb25lZXIgb2YgY29tcHV0ZXIgcm9sZS1wbGF5aW5nIGdhbWVzLCBmZWF0dXJpbmcgYSBmaXJzdC1wZXJzb24gdmlld3BvaW50IGFuZCB0aGUgaWxsdXNpb24gb2YgMy1kaW1lbnNpb25hbCBncmFwaGljcy4gQWxvbmcgd2l0aCBVbHRpbWEsIE1pZ2h0IGFuZCBNYWdpYyBhbmQgVGhlIEJhcmQncyBUYWxlLCBpdCBiZWNhbWUgYm90aCBhIGNsYXNzaWMgYW5kIGEgc2VyaWVzLiBUaGVyZSB3ZXJlIG5pbmUgV2l6YXJkcnkgZ2FtZXMgcmVsZWFzZWQgb3ZlciAyMCB5ZWFycy4KClN0b3J5CgpZb3UgbWlnaHQgZmluZCBpdCBzdXJwcmlzaW5nLCBidXQgYW4gZXZpbCBtYWdpY2lhbiB3aXRoIGV2ZW4tbW9yZS1ldmlsIHBsYW5zIHNlbnQgaGlzIG1pbmlvbnMgdG8gc2xheSBldmVyeW9uZSwgYW5kIG1lYW53aGlsZSBidWlsdCBhIGNhdGFjb21iIGFyb3VuZCBoaXMgY2F2ZS4gWW91ciBwYXJ0eSBvZiBzaXggdG91Z2ggYWR2ZW50dXJlcnMgd2VyZSBnaXZlbiB0aGUgcXVlc3QgdG8gZGVmZWF0IGhpbSBhbmQgc2F2ZSB0aGUgd29ybGQuIEh1cnJheS4gRGVzcGl0ZSB0aGUgc3RvcnkgYmVpbmcgYSBjbGljaMOpLCBJIHNoYWxsIHJlbWluZCB5b3UgdGhhdCB0aGlzIGlzICpUSEUqIFN0b3J5LCBmcm9tIHdoaWNoIGFsbCBvdGhlciBzdG9yaWVzIGZvciBSUEdzIGVtZXJnZWQuIEF0IGxlYXN0LCBiYWNrIHRoZW4gaXQgd2FzIHRob3VnaHQgdG8gYmUgaW50ZXJlc3RpbmcsIGFuZCBmaWxsZWQgd2l0aCB1bmV4cGVjdGVkIHR3aXN0cy4KCkdyYXBoaWNzCgpUaGUgc3RhdGUtb2YtdGhlLWFydCBDR0EgaXMgY29tcG9zZWQgZnJvbSBmb3VyIG9mIHRoZSBzdHJhbmdlc3QgY29sb3VycyAtIGN5YW4sIG1hZ2VudGEsIHdoaXRlIGFuZCBibGFjayAtIGJ1dCB0aGV5IGRvIHRoZWlyIGpvYiB3ZWxsLiBXaGVuIHlvdSdyZSBub3QgYWR2ZW50dXJpbmcgaW4gYSBtYXplIGNvbXBvc2VkIG9mIHdoaXRlIGxpbmVzLCB5b3UnbGwgYmUgcHJlc2VudGVkIHdpdGggdGV4dCBhbmQgbWVudXMuIEZpZ2h0aW5nIG1vbnN0ZXJzIG1lYW5zIGEgc21hbGwgcGljdHVyZSBvZiB0aGUgbW9uc3RlciBhcHBlYXJzLCBhbmQgdGhlIGdhbWUgZGVzY3JpYmVzIHRoZSBldmVudHMgb2YgdGhlIGNvbWJhdCBpbiBhIHdpbmRvdy4KClNvdW5kCgpXaGF0ZXZlciB5b3UgZGVzaXJlIC0gcHN5Y2hlZGVsaWMgcm9jayBmcm9tIHRoZSA2MHMsIGhlYXZ5IG1ldGFsIGZyb20gdGhlIDgwcywgOC1iaXQgbmVyZCBtdXNpYywgb3Igc29tZXRoaW5nIGNsYXNzaWNhbCwgaXQncyB5b3VyIGNob2ljZSEgWW91IGNhbiBwdXQgd2hhdGV2ZXIgeW91IHdhbnQgaW50byB5b3VyIG11c2ljIHBsYXllciBkZXZpY2UgYW5kIGVuam95IGl0OyB0aGUgZ2FtZSB3b24ndCBpbnRlcnJ1cHQgd2l0aCBhbnkgYmVlcHMsIG5vdCB0byBtZW50aW9uIG11c2ljIHNjb3Jlcy4gVGhlcmUgYXJlbid0IGFueS4gKEkgY2FuJ3QgZXZlbiByZWNhbGwgaWYgdGhlcmUncyBhbnl0aGluZyBiZWluZyBwbGF5ZWQgd2hpbGUgdGhlIHdlbGNvbWUgc2NyZWVuIGlzIHByZXNlbnRlZCkKCkdhbWVwbGF5CgpJZiB5b3UgdGhvdWdodCB5b3UnZCBzZWUgYW5vdGhlciBzaG9ydCBwYXJhZ3JhcGggd2l0aCBzb21lIG1pbm9yIGRldGFpbHMsIHRoZW4geW91J3JlIHdyb25nLiBFdmVuIHRob3VnaCB0aGUgZ3JhcGhpY3MgYXJlIG1pbmltYWwsIHRoZSBnYW1lcGxheSBpcyBkZWVwLCBjb21wbGljYXRlZCwgYW5kIGhhcmQuIEl0IHdhcyBuZXZlciBtZWFudCB0byBiZSBwbGF5ZWQgYnkgdGhlIGNhc3VhbCwgYW5kIGFzIHRoZSB5ZWFycyBwYXNzZWQgaXQgYmVjYW1lIGV2ZW4gaGFyZGVyIGJlY2F1c2Ugb25seSB0aGUgbW9zdCBkZXRlcm1pbmVkIGNhbiBiZWFyIHRoZSBsb29rIG9mIHRoZSBnYW1lLiBUaGUgY29udHJvbHMgYXJlIGFjdHVhbGx5IHNpbXBsZS4gV2hlbiB5b3Ugc3RhcnQgdGhlIGdhbWUsIGdlbmVyYXRlIGNoYXJhY3RlcnMsIG9yIHdhbmRlciBhcm91bmQgdGhlIG1lbnVzLCB5b3UnbGwgbmVlZCB0byBwcmVzcyBhIGxldHRlciBvciBhIG51bWJlciBjb3JyZXNwb25kaW5nIHRvIHRoZSBjaG9pY2VzIHlvdSBjYW4gbWFrZSBsaXN0ZWQgb24gdGhlIHNjcmVlbi4gV2hlbiB5b3UncmUgaW4gdGhlIGNhdGFjb21icywgeW91IGNhbiBtb3ZlIGZvcndhcmQgd2l0aCAndycsIHR1cm4gbGVmdCBhbmQgcmlnaHQgd2l0aCAnYScgYW5kICdkJyAodGhlcmUncyBubyBzdGVwcGluZyBiYWNrLCBtdWhhaGEpLiBUaGUgZmlnaHRzIGFyZSB0dXJuIGJhc2VkLiBZb3UgY2FuIHNldCB5b3VyIGNvbW1hbmRzIGZvciBlYWNoIGNoYXJhY3RlciBieSBjaG9vc2luZyB0aGUgYXBwcm9wcmlhdGUgbGV0dGVycywgdGhlbiB3YWl0IGZvciB0aGUgcGFydHkgdG8gY2Fycnkgb3V0IHlvdXIgd2lsbCwgYW5kIGFmdGVyIHRoZSBlbmVteSBoYXMgdGFrZW4gYWN0aW9ucywgeW91IGdhaW4gY29udHJvbCBhZ2Fpbi4KClRoZSBnYW1lIHNldCBzb21lIHN0YW5kYXJkcyBmb3IgdGhlIFJQRyBnZW5yZS4gRm9yIGV4YW1wbGUsIHlvdSBuZWVkIHRvIGNyZWF0ZSBjaGFyYWN0ZXJzIGFuZCBjaG9vc2UgdGhlaXIgcmFjZSBmcm9tIEh1bWFuLCBFbGYsIER3YXJmLCBIb2JiaXQgb3IgR25vbWUuIEV2ZXJ5IHRpbWUgeW91IGNyZWF0ZSBhIGNoYXJhY3RlciwgeW91IHJlY2VpdmUgcG9pbnRzIHdoaWNoIHlvdSBjYW4gZGlzdHJpYnV0ZSB0byB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXM6IFN0cmVuZ3RoLCBJLlEuLCBQaWV0eSwgVml0YWxpdHksIEFnaWxpdHksIEx1Y2suIERlcGVuZGluZyBvbiB0aGUgcmFjZSBhbmQgd2hpY2ggYXR0cmlidXRlIGhhcyB0aGUgbW9zdCBwb2ludHMsIHlvdXIgY2hhcmFjdGVyIGNhbiBiZSBhIFRoaWVmLCBGaWdodGVyLCBNYWdlLCBQcmllc3QuIFRoZXJlIGFyZSBhbHNvIGVsaXRlIGNsYXNzZXM6IExvcmQsIEJpc2hvcCwgTmluamEsIGFuZCBTYW11cmFpLiBZb3Ugd2lsbCBhbHNvIG5lZWQgdG8gZXF1aXAgdGhlbSB3aXRoIHdlYXBvbnM7IHlvdSBjYW4gYnV5IHNvbWUgY2hlYXAgc3RpY2tzIGFuZCBrbml2ZXMgYXQgdGhlIGxvY2FsIHNob3AsIGJ1dCB0aGUgYmVzdCBhcmUgc3RpbGwgdGhlIG9uZXMgbG9vdGVkIGZyb20gYmlnLCBldmlsIG1vbnN0ZXJzIGx1cmtpbmcgYmV5b25kLgoKQWZ0ZXIgeW91J3ZlIGFzc2VtYmxlZCB5b3VyIGJhbmQgb2YgaGVyb2VzLCB5b3Ugc2hvdWxkIGVudGVyIFRoZSBNYXplLiBUcnVlIHRvIGl0cyBuYW1lLCBpdCdsbCBiZSBhIGxhYnlyaW50aCBvZiBoYWxscyBhbmQgY29ycmlkb3JzLCBhbGwgdGhlIHNhbWUuIEFzIHNhaWQgZWFybGllciwgdGhpcyBnYW1lIHdhcyBuZXZlciBtZWFudCB0byBiZSBwbGF5ZWQgYnkgdGhlIGNhdXNhbCBnYW1lci4gVGhlcmUgYXJlIG5vIG1hcHMgaW4tZ2FtZSwgeW91IHdpbGwgaGF2ZSB0byBkcmF3IHRoZW0gb24geW91ciBvd24sIHdpdGggcGVuIGFuZCBwYXBlciwganVzdCBsaWtlIGluIHRoZSBvbGQgZGF5cyEgKE9yIHlvdSBjb3VsZCBkb3dubG9hZCBvbmUgZnJvbSB0aGUgbmV0LiBCb28uKSBZb3Ugd2lsbCBlbmNvdW50ZXIgbWFueSBkYW5nZXJvdXMgY3JlYXR1cmVzLCBhbmQgeW91J2xsIGFsc28gZ2FpbiBleHBlcmllbmNlIGJ5IGRlZmVhdGluZyB0aGVtLiBXaGVuIHlvdXIgdGVhbSBpcyBleGhhdXN0ZWQsIHlvdSBjYW4gZ28gYmFjayB0byB0aGUgQ2FzdGxlLCBvciBtYWtlIGEgY2FtcC4gRHlpbmcgaXMgcXVpdGUgZWFzeSBpbiB0aGlzIGdhbWUsIGFuZCB0aGUgcHJpZXN0cyBvZiB0aGUgVGVtcGxlIG9mIENhbnQgaGF2ZSBoaWdoIHByaWNlcyBmb3IgcmVzdXJyZWN0aW9uLCBzbyBtYWtlIHN1cmUgeW91IGFsd2F5cyBjYXJyeSBhIHByaWVzdCBhbmQgYW50aWRvdGVzIHdpdGggeW91LiAoSWYgc29tZW9uZSBnZXRzIHBvaXNvbmVkIGJ5LCBmb3IgZXhhbXBsZSwgYSB0cmFwLCBjaGFuY2VzIGFyZSBoZS9zaGUgd2lsbCBkaWUuIFNvb24uKSBUaGVyZSBhcmUgdGVuIGxldmVscywgZWFjaCBmaWxsZWQgd2l0aCBtb25zdGVycywgdHJhcHMsIGFuZCB0cmVhc3VyZXMuCgpTdW1tYXJ5CgpJZiB5b3UncmUgaW50ZXJlc3RlZCBpbiBmYW50YXN5LCB0aXJlZCBvZiB0b2RheSdzIHNoaW55IGdhbWVzLCB3ZXJlL2FyZSBmYW5zIG9mIHRoZSBXaXphcmRyeSBzZXJpZXMsIG9yIHdhbnQgdG8gdHJ5IHlvdXIgc2tpbGxzIGluIHRoaXMgbG9uZyBmb3Jnb3R0ZW4gZ2VtLCB0aGVuIGdvIGFoZWFkIGFuZCBkb3dubG9hZCBub3chIElmIHlvdSB0aGluayB0aGlzIG1pZ2h0IGJlIHRvbyBoYXJkIGZvciB5b3UsIHRoZW4geW91IGNhbiBnaXZlIGl0IGEgdHJ5IGFzIHdlbGwgLSBiZWxpZXZlIG1lLCB0aGUgdXBjb21pbmcgb25lcyBpbiB0aGUgc2VyaWVzIGFyZSBhIGxvdCwgQSBMb3QgSGFyZGVyLiBCZXNpZGVzLCB5b3Ugd2lsbCBiZSBhYmxlIHRvIC0gb3IgbW9yZSBsaWtlbHksIHlvdSB3aWxsIGhhdmUgdG8gLSBpbXBvcnQgeW91ciBjaGFyYWN0ZXJzIGludG8gdGhlIG5leHQgdGl0bGUsIGJlY2F1c2UgaXQgd2lsbCBiZSBxdWl0ZSBoYXJkIHRvIHN0YXJ0IGEgcGFydHkgd2hlbiB0aGUgd2Vha2VzdCBtb25zdGVycyBhcmUgbGV2ZWwgMTMuCgpEZXNwaXRlIHRoZSBvdXRkYXRlZCBncmFwaGljcywgbGFjayBvZiBtdXNpYywgYW5kIHRoZSBsZXZlbCBvZiBkaWZmaWN1bHR5LCBJIHJhdGUgNSBmb3IgaW52ZW50aW5nIGEgZ2VucmUgd2hpY2ggZ2F2ZSBiaXJ0aCB0byB0aXRsZXMgbGlrZSBUaGUgRWxkZXIgU2Nyb2xscyBhbmQgbXVjaCBtb3JlLg=="},{"key":"Jmo7p","value":"d2l6YXJkeQ=="}]}]}},"preferences":[{"name":"p_saveAndLoad","value":true},{"name":"p_exAndImport","value":true},{"name":"p_dropbox","value":true},{"name":"p_html5_game_engine","value":true},{"name":"p_canvas_game_engine","value":false},{"name":"p_editor_source","value":true},{"name":"p_projectTitle","value":"werdnaEngine"}],"code":"(\n  function(_win) {\n    var werdnaEngine  = {};\n    werdnaEngine.ctx = null;\n    werdnaEngine.canvas = null;\n    werdnaEngine.game = null;\n    //Wizardy like game engine\n    /**\n    \n    */\n    werdnaEngine.init = function() {\n      werdnaEngine.canvas = createElement('canvas');\n      werdnaEngine.canvas.width = 600;\n      werdnaEngine.canvas.height = 300;\n      werdnaEngine.canvas.style.width = '600px';\n      werdnaEngine.canvas.style.height = '300px';\n      werdnaEngine.canvas.style.zIndex = '10000';//top of all\n      werdnaEngine.canvas.style.background = 'black';\n      werdnaEngine.canvas.style.position = 'absolute';\n      \n      werdnaEngine.ctx = werdnaEngine.canvas.getContext('2d');\n      //werdnaEngine \n      document.body.appendChild(werdnaEngine.canvas);\n     \n      werdnaEngine.canvas.addEventListener('click', werdnaEngine.clicker, true);\n      werdnaEngine.game = new Game();\n      //if  we operate in the editor mode json variable is not set\n      \n      if(typeof json == 'undefined') { \n        var json = JSON.stringify({game: editor.game});\n        werdnaEngine.game.load(json['game']);\n      } else {\n        werdnaEngine.game.load(json['game']);\n      }\n    };\n    /**\n    whatever the data will be like room link data or so\n    */\n    werdnaEngine.drawRoom = function(data) {\n      //keep it short here\n      var ctx = werdnaEngine.ctx;\n      if (data==null) {\n        ctx.strokeStyle = '#944';\n        ctx.fillStyle = 'rgba(0,0,0,0.75)';\n        ctx.beginPath();\n        \n        ctx.moveTo(150,0);\n        ctx.lineTo(150, 300); \n        ctx.lineTo(450, 300); \n        ctx.lineTo(450,0);\n        ctx.lineTo(150,0);\n        ctx.moveTo(0,115);\n        ctx.lineTo(600,115);\n        ctx.moveTo(150,0);\n        ctx.lineTo(300,115);\n        ctx.lineTo(450,0);\n        ctx.moveTo(150,300);\n        ctx.lineTo(300,115);\n        ctx.lineTo(450,300);\n        \n        ctx.moveTo(600,115);\n        ctx.lineTo(365, 196); \n        ctx.moveTo(600,115);\n        ctx.lineTo(150, 270);\n        \n        ctx.moveTo(300,115);\n        ctx.lineTo(70, 400); \n        \n        ctx.stroke();    \n        ctx.strokeStyle = '#fff';\n        ctx.beginPath();\n        ctx.moveTo(0,115);\n        ctx.lineTo(600,115);\n        ctx.stroke();\n        ctx.beginPath();\n        ctx.moveTo(235, 64);        \n        ctx.lineTo(365, 64);  \n        ctx.lineTo(365,196);      \n        ctx.lineTo(235,196);\n        ctx.lineTo(235, 64);\n        ctx.stroke();\n        ctx.fill();   \n        ctx.beginPath();\n        ctx.moveTo(235,64);\n        ctx.lineTo(235,196);        \n        ctx.lineTo(185,258);        \n        ctx.lineTo(185,27.5);\n        ctx.lineTo(235,64);\n        ctx.stroke();\n        ctx.fill();\n        ctx.beginPath();\n        ctx.moveTo(545,-64);\n        ctx.lineTo(545,420);        \n        ctx.lineTo(415,258);        \n        ctx.lineTo(415,27.5);\n        ctx.lineTo(545,-64);\n        ctx.stroke();\n        ctx.fill();\n        ctx.beginPath();\n        ctx.moveTo(0,27.5);\n     \tctx.lineTo(185,27.5);\n        ctx.lineTo(185,258);   \n        ctx.lineTo(0,258);   \n        ctx.stroke();\n        ctx.fill(); \n      \tsetTimeout( werdnaEngine.exit, 5000);\n      } \n    }\n    /**\n    on click event what to do?\n    */\n    werdnaEngine.clicker = function(eve) {\n      console.log('x:'+eve.pageX+', y:'+eve.pageY);\n      werdnaEngine.drawRoom(null);      \n    }\n    /**\n    really self removing\n    */\n    werdnaEngine.exit = function() {\n      document.body.removeChild(werdnaEngine.canvas);\n      document.body.removeChild(getElement('editor_extention'));\n    };\n    //\n    _win.werdnaEngine = werdnaEngine;\n    \n  }//no semicolon here! \n)(window)\n\n//Wizardy like game engine\nwerdnaEngine.init();\n "}